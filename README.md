<p align="center">

[![pre-commit](https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit)](https://github.com/pre-commit/pre-commit)
![Code Coverage](coverage.svg)

</p>

# üìä Data Collector Service

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **–∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö** —Å –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, API –¢–∏–Ω—å–∫–æ—Ñ—Ñ) –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (TimescaleDB).  
–î–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –ø–æ –≤—ã–∑–æ–≤—É –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π **—Ä—É—á–∫–∏ FastAPI**, –∫–æ—Ç–æ—Ä–∞—è –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–∞–π–ø–ª–∞–π–Ω: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –¥–∞—Ç—ã –≤ –±–∞–∑–µ, –∑–∞–ø—Ä–æ—Å –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ.

---

## üöÄ –¶–µ–ª—å

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–±–æ—Ä–∞ –∏ –¥–æ–∑–∞–ø–∏—Å–∏ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ TimescaleDB –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏–ª–∏ —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ FastAPI —ç–Ω–¥–ø–æ–∏–Ω—Ç.

---

## üßë‚Äçüíª –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º

- –í—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–¥—ë—Ç—Å—è –≤ –≤–µ—Ç–∫–µ `dev`
- –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞ –æ—Ç `dev` —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø–æ –Ω–æ–º–µ—Ä—É –∑–∞–¥–∞—á–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä: `123-add-stock-endpoint`
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è **Pull Request –≤ `dev`**
- –í—Å–µ PR –ø—Ä–æ—Ö–æ–¥—è—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π **code review**

---

## üí¨ –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–º–º–∏—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–µ–º [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/):

- `feat:` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- `fix:` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- `refactor:` ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- `docs:` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ/–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `chore:` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ç.–¥.)
- `test:` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- `perf:` ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `ci:` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ CI/CD

–ü—Ä–∏–º–µ—Ä:
```bash
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –∞–∫—Ü–∏—è–º"
```

---

# –ó–∞–ø—É—Å–∫ –Ω–∞ —Å–≤–æ–µ–π –º–∞—à–∏–Ω–µ

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install pdm
pdm install
```


–ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
source .venv/bin/activate
```


–ó–∞–ø—É—Å–∫ –Ω–∞ —Å–≤–æ–µ–π –º–∞—à–∏–Ω–µ
```bash
python -m src.server
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ ui –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –∞–¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É
```bash
http://0.0.0.0:7070/template_fast_api/v1/#/
```


# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—É–±–ª–∏—á–Ω–æ

### –°—Ç—Ä–æ–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```bash
    docker build -t fast_api_template .
```
–£–∑–Ω–∞–µ–º –µ–≥–æ IMAGE ID 
```bash
docker images
```

```bash
docker run -d -p 7071:7071 bb1942a77c32
```

```bash
docker run -d -p 80:7071 bb1942a77c32
```

```bash
docker run -d -p 7071:80 <IMAGE ID>
```



# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ

### –°—Ç—Ä–æ–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```bash
docker build -t data_collection .
```
–£–∑–Ω–∞–µ–º –µ–≥–æ ID
```bash
docker images
```

```bash
docker run -p 7071:7071 <IMAGE ID>
```

# –Ø –ø–∏—à—É –∫–æ–¥ –Ω–∞ Windows 
–ú–æ–ª–æ–¥–µ—Ü! –•–æ—Ç—è –º–Ω–µ —Ç–µ–±—è –∂–∞–ª—å.

### –ö–æ–≥–¥–∞ –≤—Å–µ —Å–ª–æ–º–∞–ª–æ—Å—å

–õ–µ—á–∏–º –æ—Ç–∫–∞–∑ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (address error):
1. –í server.py –º–µ–Ω—è–µ–º –≤—Å–µ –ª–æ–∫–∞–ª—Ö–æ—Å—Ç—ã —Å 0.0.0.0 –Ω–∞ 127.0.0.1

2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã:
–í "Path" –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø—É—Ç–∏ –¥–æ –≤–µ—Ä—Å–∏–∏ –ø–∏—Ç–æ–Ω–∞ –∏ –¥–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

–ù–∞–ø—Ä–∏–º–µ—Ä,
```
C:\Users\1\AppData\Local\Programs\Python\Python312\Scripts\
D:\work_dirs\data_collection\.venv\Scripts
```
3. –ï—Å–ª–∏ –ø.1-2 –Ω–µ –ø–æ–º–æ–≥–ª–∏, —Ç–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä Windows